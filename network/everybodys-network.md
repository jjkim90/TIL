# 모두의 네트워크

모두의 네트워크 / 미즈구치 카츠야 / 이승룡 옮김 / 길벗 / 2018



## 1. 네트워크 첫걸음

### 1.1. 네트워크의 구조

- 컴퓨터 간의 연결을 컴퓨터 네트워크라고 함.
- 인터넷은 전 세계의 큰 네트워크부터 작은 네트워크까지 연결하는 거대한 네트워크임.
- 패킷은 컴퓨터 간의 데이터를 주고 받을 때 네트워크를 통해 흘러가는 작은 데이터 조각임.
- 큰 데이터는 작은 패킷으로 분할함.
- 패킷을 보낼 때 번호를 붙이고 패킷이 도착하면 번호순으로 정렬함.



### 1.2. 정보의 양을 나타내는 단위

- 컴퓨터는 0과 1밖에 이해하지 못함.
- 정보를 나타내는 최소 단위를 비트라고 하며, 비트 여덟 개를 1바이트라고 함.
- 숫자와 문자의 대응표를 문자 코드라고 함.



### 1.3. 랜과 왠

- 랜(LAN : Local Area Network, 근거리 통신망) : 건물 안이나 특정 지역을 범위로 하는 네트워크. 속도가 빠르고 오류가 적음.
- 왠(WAN : Wide Area Network, 광역 통신망) : ISP가 제공하는 서비스를 사용하여 구축한 네트워크. 지리적으로 넓음. 속도가 느리고 오류가 많음.
- 인터넷 서비스 제공자(ISP : Internet Service Provider) - 인터넷 상용 서비스 사업을 하고 있는 사업자. KT, U+, SK브로드밴드



### 1.4. 가정에서 하는 랜 구성

- 인터넷 서비스 제공자와 인터넷 회선을 결정하고 계약함.
- 인터넷 서비스 제공자와 네트워크를 연결하기 위해 인터넷 공유기를 사용함.
- 인터넷 공유기(Broadband Router) : 가정이나 소규모 기업에서 인터넷에 접속할 때 사용하는 가정용 라우터. 최근에는 허브, 스위칭 허브, 방화벽과 같은 다양한 기능을 제공함.
- 데스크톱 컴퓨터 한 대를 공유기와 유선으로 연결하여 ISP와 네트워크를 구성하고, 나머지는 무선으로 연결하는 경우가 많음.



### 1.5. 회사에서 하는 랜 구성

- DMZ는 외부에 공개하기 위한 네트워크임.
- 외부에 공개하는 서버에는 주로 웹 서버, DNS 서버, 메일 서버가 있음.
- 회사의 서버는 온프레미스(사내 서버)나 클라우드로 운영됨.
- 사내 서버 운영 시 서버 장비실을 두고 그곳에 랙(선반)을 설치. 랙 안에는 랙에 설치하기 적합한 형태와 크기를 가진 서버, 라우터, 스위치를 설치함.
- 각 서버나 컴퓨터는 스위치나 무선 랜 기능을 사용하여 사내 랜에 접속함.



## 2. 네트워크의 기본 규칙

### 2.1. 네트워크의 규칙

- 통신하기 위한 규칙을 프로토콜이라고 함.
- 불어를 못하는 한국인과 한국어를 못하는 프랑스인이라면 영어로 대화한다는 규칙을 정해서 대화할 수 있음.
- 편지를 배송하기 위해서는 편지를 쓸 때부터 상대방에게 도착할 때까지 지켜야 하는 독립적인 여러 규칙을 거쳐야 함.



### 2.2. OSI 모델과 TCP/IP 모델

- ISO(International Organization for Standardization, 국제표준화기구)에서 OSI 모델이라는 표준 규격을 제정함.
- OSI 모델의 7계층
  - 7계층 : 응용 계층(Application Layer, 애플리케이션 계층) : 이메일 & 파일 전송, 웹 사이트 조회 등 애플리케이션에 대한 서비스를 제공함.
  - 6계층 : 표현 계층(Presentation Layer, 프레젠테이션 계층) : 문자 코드, 압축, 암호화 등의 데이터를 변환함.
  - 5계층 : 세션 계층(Session Layer) : 세션 체결, 통신 방식을 결정함.
  - 4계층 : 전송 계층(Transport Layer, 트랜스포트 계층) : 신뢰할 수 있는 통신을 구현함.
  - 3계층 : 네트워크 계층(Network Layer) : 다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소를 결정함.
  - 2계층 : 데이터 링크 계층(Data Link Layer) : 네트워크 기기 간의 데이터 전송 및 물리 주소를 결정함.
  - 1계층 : 물리 계층(Physical Layer) :시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어함.

- TCP/IP 모델
  - 4계층 : 응용 계층 - OSI 7,6,5 계층
  - 3계층 : 전송 계층 - OSI 4계층
  - 2계층 : 인터넷 계층 - OSI 3계층
  - 1계층 : 네트워크 접속 계층 - OSI 2,1계층



### 2.3. 캡슐화와 역캡슐화

- 헤더 : 데이터를 보낼 때는 필요한 정보를 데이터에 추가해야 하는데 이 정보를 헤더라고 함. 헤더에는 데이터를 전달 받을 상대방에 대한 정보도 포함되어 있음.
- 트레일러 : 데이터를 전달할 때 데이터의 마지막에 추가하는 정보.
- 캡슐화 : 데이터를 상대방에게 보낼 때 각 계층에서 헤더(데이터 링크 계층의 트레일러도 포함)를 붙여 나가는 것을 캡슐화라고 함.
- 역캡슐화 : 데이터를 수신할 때 각 계층에서 헤더(데이터 링크 계층의 트레일러도 포함)를 제거해 나가는 것을 역캡슐화라고 함.
- OSI 모델에서 데이터 송신 측은 응용 계층 -> 전송 계층 -> 네트워크 계층 -> 데이터 링크 계층 순서로 캡슐화함.
- OSI 모델에서 데이터 수신 측은 데이터 링크 계층 -> 네트워크 계층 -> 전송 계층 -> 응용 계층 순서로 역캡슐화함.
- 송신 측의 데이터 링크 계층에서 만들어진 데이터가 전기 신호로 변환되어 수신 측에 전송됨.



## 3. 물리 계층 : 데이터를 전기 신호로 변환하기

### 3.1. 물리 계층의 역할과 랜 카드의 구조

- 전기 신호에는 아날로그 신호와 디지털 신호가 있음.
- 아날로그 신호는 전화 회선이나 라디오 방송에 사용되는 신호임.
- 네트워크를 통해 상대방에게 데이터를 전송할 때 0과 1의 비트열은 전기 신호로 변환되어 전송됨. 상대방이 받은 전기 신호는 다시 0과 1의 비트열로 복원됨.
- 컴퓨터는 네트워크를 통해 데이터를 송수신할 수 있도록 랜 카드가 메인 보드에 포함되어 있는 내장형 랜 카드나 별도의 랜 카드를 가지고 있음. 0과 1의 정보가 컴퓨터 내부에 있는 랜 카드로 전송되고 랜 카드는 0과 1을 전기 신호로 변환함.
- 물리 계층은 컴퓨터와 네트워크 장비 간에 전송되는 데이터를 전기 신호로 변환하는 계층임.



### 3.2. 케이블의 종류와 구조

- 트위스트 페어 케이블(twisted pair cable) : 구리 선 여덟 개를 두 개씩 꼬아 만든 네 쌍의 전선.
  - UTP(Unshielded Twisted Pair) 케이블 : 실드(shield)로 보호되어 있지 않은 케이블. 노이즈의 영향을 쉽게 받음. 가격이 저렴하여 일반적으로 많이 사용됨.
  - STP(Shielded Twisted Pair) 케이블 : 실드로 보호한 케이블. 노이즈의 영향을 적게 받음. 가격이 비싸 보편적으로 사용하지는 않음.
- UTP 케이블의 분류
  - Cat3 - 속도10Mbps
  - Cat5 - 속도 100Mbps
  - Cat5e - 속도 1000Mbps
  - Cat6 - 속도 1000Mbps
  - Cat6a - 속도 10GMbps
  - Cat7 - 속도 10GMbps

- 트위스트 페어 케이블은 일반적으로 랜 케이블이라고 부름.
- 랜 케이블의 양쪽 끝에는 RJ-45라는 커넥터가 달려 있음.
- 랜 케이블의 종류
  - 다이렉트 케이블 : 구리 선 여덟 개를 같은 순서로 커넥터에 연결한 케이블. 컴퓨터와 스위치를 연결할 때 사용함.
  - 크로스 케이블 : 구리 선 여덟 개 중 한쪽 커넥터의 1번과 2번에 연결되는 구리 선을 다른 쪽 커넥터의 3번과 6번에 연결한 케이블. 컴퓨터 간에 직접 랜 케이블로 연결할 때 사용함.
  - 두 케이블 모두 실제로는 1번, 2번, 3번, 6번 구리 선을 사용하고 나머지 선 네 개는 사용하지 않음.



### 3.3. 리피터와 허브의 구조

- 리피터 : 전기 신호를 정형(일그러진 전기 신호를 복원)하고 증폭하는 기능을 가진 네트워크 중계 장비. 통신하는 상대방이 멀리 있을 때 리피터를 사이에 넣음. 최근에는 다른 네트워크 장비가 리피터 기능을 지원하기 때문에 사용하지 않음.
- 허브 : 포트(실제로 통신하는 통로)를 여러 개 가지고 있고 리피터 허브라고도 불림. 리피터는 일대일 통신만 가능하지만 허브는 포트를 여러 개 가지고 있어서 컴퓨터 여러 대와도 통신할 수 있음.
- 허브도 리피터와 마찬가지로 전기 신호를 정형하고 증폭하는기능을 함. 컴퓨터에서 보낸 전기 신호가 노이즈의 영향으로 파형이 될 때 허브가 파형을 정상으로 되돌리는 기능을 함.
- 허브는 어떤 특정 포트로부터 데이터를 받을 때 해당 포트를 제외한 나머지 모든 포트로 받은 데이터를 전송함. 허브는 스스로 판단하지 않고, 전기 신호를 모든 포트로 보내서 더미 허브(dummy hub)라고도 불림.



## 4. 데이터 링크 계층 : 랜에서 데이터 전송하기

### 4.1. 데이터 링크 계층의 역할과 이더넷

- 데이터 링크 계층은 네트워크 장비 간에 신호를 주고받는 규칙을 정하는 계층으로, 랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층.
- 이더넷은 랜에서 데이터를 정상으로 주고받기 위한 규칙임.
- 허브는 모든 포트로 데이터를 전송하기 때문에 데이터 충돌이 발생할 수 있음.
- 이더넷에서 데이터 충돌을 피하기 위해 데이터 전송 시점을 늦추는 방법을 CSMA/CD라고 함.
- CSMA/CD(Carrier Sense Multiple Access with Collision Detection, 반송파 감지 다중 접속 및 충돌 탐지)
  - CS : 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인하는 규칙.
  - MA : 케이블에 데이터가 흐르고 있지 않으면 데이터를 보내도 된다는 규칙.
  - CD : 충돌이 발생하고 있는지 확인하는 규칙.
- 현재는 효율이 좋지 않아 CSMA/CD는 거의 사용하지 않음. 스위치를 사용하면 데이터 충돌이 일어나지 않음.



### 4.2. MAC 주소의 구조

- MAC 주소(Media Access Control Address, 물리 주소)
  - 랜 카드 제조시 새겨지는 유일한 번호.
  - MAC 주소는 48비트 숫자로 구성. 앞쪽 24비트는 랜 카드를 만든 제조사 번호, 뒤쪽 24비트는 제조사가 붙인 일련번호로 구성됨.
- OSI 모델 데이터 링크 계층, TCP/IP 모델 네트워크 계층에서 이더넷 헤더와 트레일러를 붙임.
  - 이더넷 헤더는 목적지의 MAC 주소(6바이트), 출발지 MAC 주소(6바이트), 유형(2바이트) 총 14바이트로 구성됨. 유형에는 프로토콜 종류를 식별하는 번호가 들어감.(IPv4, IPv6 등)
  - 트레일러는 FCS(Frame Check Sequence)라고도 함. 데이터 전송 도중에 오류가 발생하는지 확인하는 용도로 사용함.
- 이더넷 헤더와 트레일러가 추가된 데이터를 프레임이라고 함.
- 허브의 각각의 포트들은 목적지 MAC 주소가 자신의 MAC 주소와 같은지 확인하고 같을 경우 데이터를 수신하고, 다를 경우 데이터를 파기함.



### 4.3. 스위치의 구조

- 스위치(switch)
  - 데이터 링크 계층에서 동작.
  - 레이어 2 스위치, 스위칭 허브라고도 부름.
  - 장비 외형은 허브와 비슷함.
  - 스위치 내부에는 MAC 주소 테이블이 있음.
- MAC 주소 테이블
  - 브리지 테이블(bridge table)이라고도 함.
  - 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC 주소가 등록되는 데이터베이스.
  - MAC 주소 학습 기능이 있음. 프레임 데이터 전송 시 MAC 주소 테이블을 확인하고 MAC 주소가 등록되어 있지 않으면 MAC 주소를 포트와 함께 등록함.
  - 플러딩(flooding) : MAC 주소 테이블에 목적지 MAC 주소 등록 안되어 있을 때는 허브처럼 모든 포트에 데이터 전송함.
  - MAC 주소 필터링 : 스위치에서 MAC 주소를 기준으로 출발지를 선택하는 것.



### 4.4. 데이터가 케이블에서 충돌하지 않는 구조

- 전이중 통신 방식
  - 데이터의 송수신을 동시에 통신하는 방식.
  - 컴퓨터 두 대를 크로스 케이블을 사용하여 연결하는 방식이 전이중 통신 방식임.
  - 스위치도 전이중 통신 방식으로 데이터를 주고 받음.
- 반이중 통신 방식
  - 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식.
  - 허브 내부에는 송수신이 나눠져 있지 않아 허브를 사용하면 회선 하나를 송신과 수신이 번갈아가면서 사용하는 반이중 통신 방식을 사용하게 됨.
  - 허브를 사용하면 충돌이 생기면서 네트워크 지연이 발생하기 때문에 최근에는 네트워크로 스위치를 이용하는 것이 표준임.
- 충돌 도메인(collision domain)
  - 충돌이 발생할 때 그 영향이 미치는 범위.
  - 허브는 모든 컴퓨터에 충돌의 영향이 미치기 때문에 접속되어 있는 모든 컴퓨터가 충돌 도메인이 됨.
  - 스위치는 충돌 도메인의 범위가 1대로 적음.
  - 충돌 도메인의 범위가 넓을수록 네트워크가 지연됨.
- 주소 결정 프로토콜(ARP : Address Resolution Protocol)
  - IP주소를 MAC 주소에 매칭시키기 위한 프로토콜.
  - 출발지 컴퓨터가 목적지의 주소를 모를 때 MAC 주소를 알아내기 위해 네트워크에 브로드캐스트를 하는데 이것을 'ARP 요청(request)'이라고 함.
  - 지정된 IP주소를 가진 컴퓨터는 MAC 주소를 응답으로 보냄. 이것을 'ARP 응답(reply)'이라고 함.
  - 출발지 컴퓨터는 MAC 주소와 IP 주소의 매핑 정보를 메모리에 보관함. 이 정보를 'ARP 테이블(table)'이라고 함.
  - ARP 테이블에는 보존 기간을 ARP 캐시로 지정하고 일정 시간이 지나면 삭제하고 다시 ARP 요청을 함.
  - ARP 요청이 가능한 범위를 LAN 범위로 보기도 함.



### 4.5. 이더넷의 종류와 특징

- 이더넷은 케이블 종류나 통신 속도에 따라 다양한 규격으로 분류됨
- 주요 이더넷 규격
  - 10BASE5
  - 10BASE2
  - 10BASE-T
  - 100BASE-TX
  - 1000BASE-T
  - 10GBASE-T
- BASE의 왼쪽 숫자는 통신 속도를 나타냄.
- BASE는 전송 방식을 나타냄.
- 제일 뒤 T는 케이블 종류를 말함.
- 제일 뒤 하이픈(-) 없는 숫자는 동축케이블 길이 나타냄 5는 500미터.
- 최근 컴퓨터의 랜 포트는 1000BASE-T가 일반적임. 조금씩 10GBASE-T도 많아지고 있음.



## 5. 네트워크 계층 : 목적지에 데이터 전달하기

### 5.1. 네트워크 계층의 역할

- OSI 모델의 네트워크 계층
  - 서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요함.
  - 네트워크 간의 통신을 가능하게 하는 것이 네트워크 계층의 역할.
- 라우터(router)
  - 다른 네트워크로 데이터를 전송하기 위해 필요한 네트워크 장비.
  - 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지를 알려 주는 기능을 함.
  - 다른 네트워크에 있는 목적지를 지정하기 위해서는 IP 주소가 필요함.
  - 목적지 IP 주소까지 어떤 경로로 데이터를 보낼지 결정하는 것을 라우팅(routing)이라고 함.
  - 라우터에는 라우팅 테이블(routing table)이 있어서 경로 정보를 등록하고 관리함.
- IP(Internet Protocol)

- IP 주소
  - 네트워크를 식별할 수 있는 주소.
  - 어떤 네트워크의 어떤 컴퓨터인지를 구분할 수 있도록 하는 주소.
- IP 헤더
  - 네트워크 계층에서 데이터를 캡슐화할 때 붙이는 것.
  - 데이터를 정확하게 전달하기 위해 필요한 정보가 포함되어 있음.
  - 1) 버전
    2) 헤더 길이
    3) 서비스 유형
    4) 전체 패킷 길이
    5) ID
    6) 조각 상태
    7) 조각의 위치
    8) TTL
    9) 프로토콜
    10) 헤더 체크섬
    11) 출발지 IP 주소
    12) 목적지 IP 주소
- IP 패킷
  - IP 프로토콜을 사용하여 캡슐화한 데이터.
  - 데이터 링크 계층에서 프레임이라고 부르던 것에 IP헤더가 추가된 것.



### 5.2. IP 주소의 구조

- IP 주소는 인터넷 서비스 제공자(ISP)에게 받을 수 있음.
- IP 버전
  - IPv4 : 32비트. IP 주소 약 43억 개 만들 수 있음.
  - IPv6 : 128비트. IPv4보다 많은 IP 주소 만들 수 있음.
- IP 주소 종류
  - 공인 IP 주소 : 인터넷에 직접 연결되는 컴퓨터나 라어투에 할당되는 IP 주소.
  - 사설 IP 주소 : 회사나 가정의 랜에 있는 컴퓨터에 할당되는 IP 주소.
- DHCP(Dynamic Host Configuration Protocol)
  - IP 주소를 자동으로 할당하는 프로토콜
  - ISP가 제공하는 공인 IP 주소는 라우터에만 할당하고 랜 안에 있는 컴퓨터들에는 랜의 네트워크 관리자가 자유롭게 사설 IP 주소를 할당하거나 라우터의 DHCP 기능을 사용하여 주소를 자동으로 할당하고 있음.
- IP 주소 구성
  - 네트워크 ID : 어떤 네트워크인지를 나타냄.
  - 호스트 ID : 해당 네트워크의 어느 컴퓨터인지를 나타냄.



### 5.3. IP 주소의 클래스 구조

- IP 주소 클래스의 종류
  - A 클래스 - 대규모 네트워크 주소
    - 네트워크 ID : 처음 8비트
    - 호스트 ID : 다음 24비트
  - B 클래스 - 중형 네트워크 주소
    - 네트워크 ID : 처음 16비트
    - 호스트 ID : 다음 16비트
  - C 클래스 - 소규모 네트워크 주소
    - 네트워크 ID : 처음 24비트
    - 호스트 ID : 다음 8비트
  - D 클래스 - 멀티캐스트(multicast) 주소
  - E 클래스 - 연구 및 특수용도 주소
- 클래스별 공인 IP 주소의 범위
  - A 클래스
    - 1.0.0.0 ~ 9.255.255.255
    - 11.0.0.0 ~ 126.255.255.255
  - B 클래스
    - 128.0.0.0 ~ 172.15.255.255
    - 172.32.0.0 ~ 191.255.255.255
  - C 클래스
    - 192.0.0.0 ~ 192.167.255.255
    - 192.169.0.0 ~ 223.255.255.255
- 클래스별 사설 IP 주소의 범위
  - A 클래스
    - 10.0.0.0 ~ 10.255.255.255
  - B 클래스
    - 172.16.0.0 ~ 172.31.255.255
  - C 클래스
    - 192.168.0.0 ~ 192.168.255.255



### 5.4. 네트워크 주소와 브로드캐스트 주소의 구조

- 네트워크 주소
  - 네트워크 대표 주소.
  - 호스트 ID가 10진수로 0이고, 2진수로 00000000인 주소.
  - 전체 네트워크에서 작은 네트워크를 식별하는 데 사용됨.
  - 호스트 ID가 0이면 그 네트워크 전체를 대표하는 주소가 됨.
- 브로드캐스트 주소
  - 호스트 ID가 10진수로 255이고, 2진수로 11111111인 주소.
  - 네트워크에 있는 컴퓨터나 장비 모두에게 한 번에 데이터를 전송하는 데 사용되는 전용 IP 주소.
  - 호스트 ID에 255를 설정하고 데이터를 전송하면 네트워크 안에 있는 모든 컴퓨터가 데이터를 받게 됨.

- 네트워크 주소와 브로드캐스트 주소는 컴퓨터나 라우터가 자신의 IP로 사용하면 안 됨.



### 5.5. 서브넷의 구조

- 서브넷(subnet)
  - 대규모 네트워크를 작은 네트워크로 분할하는 것을 서브넷팅(subneting)이라고 하고, 분할된 네트워크를 서브넷이라고 함.
  - 서브넷팅으로 브로드캐스트로 전송되는 패킷의 범위를 좁힐 수 있음.
  - 더 많은 네트워크를 만들 수 있어서 IP 주소를 덮효과적으로 활용할 수 있음.
  - A 클래스의 기존 호스트 ID 24비트 중 10비트를 서브넷 ID 용으로 사용함.
- 서브넷 마스크
  - 네트워크 ID와 호스트 ID를 식별하기 위한 값.
  - 32비트의 숫자로 1비트는 네트워크 부분, 0비트는 호스트 부분을 나타냄.
  - A클래스 255.0.0.0 B클래스 255.255.0.0 C클래스 255.255.255.0
  - 프리픽스 표기법 : 서브넷 마스크를 슬래시(/비트수)로 나타낸 것.
  - 예시 : C클래스에서 서브넷ID 4비트 사용 -> 네트워크 ID와 서브넷 ID가 28비트가 되어 프리픽스 표기법으로 /28됨.



### 5.6. 라우터의 구조

- 서로 다른 네트워크와 통신하려면 라우터가 필요함.
- 라우터는 네트워크를 분할할 수 있지만 스위치와 허브는 분할할 수 없음.
- 컴퓨터에서 다른 네트워크로 데이터를 전송하려면 기본 게이트웨이를 설정해야 함.

- 기본 게이트웨이(default gateway)
  - 라우터에 설정된 IP 주소.
  - 네트워크의 출입구 역할을 함.
- 라우팅(routing)
  - 경로 정보를 기반으로 현재의 네트워크에서 다른 네트워크로 최적의 경로를 통해 데이터를 전송하는 방식.
  - 경로 정보가 등록되어 있는 테이블을 라우팅 테이블이라고 함.
- 라우팅 테이블 등록
  - 네트워크 관리자가 수동으로 등록 가능. 소규모 네트워크에 적합함.
  - 자동으로 등록 가능. 대규모 네트워크에 적합함.
- 라우팅 프로토콜
  - 라우터 간에 라우팅 정보를 교환하기 위한 프로토콜.
  - RIP, OSPF, BGP 등이 있음.







## 6. 전송 계층 : 신뢰할 수 있는 데이터 전달하기



### 6.1. 전송 계층의 역할

- 전송 계층은 목적지에 신뢰할 수 있는 데이터를 전달하기 위해 필요함.
- 전송 계층의 두 가지 역할
  - 전송 계층에는 오류를 점검하는 기능이 있음.
  - 전송 계층에서는 전송된 데이터의 목적지가 어떤 애플리케이션인지 식별하는 기능이 있음.
- 연결형 통신
  - 상대방과 확인해 가면서 통신하는 방식.
  - 신뢰할 수 있고 정확한 데이터를 전달할 수 있음.
  - 전송 계층의 연결형 통신 프로토콜에는 TCP(Transmission Control Protocol, 전송 제어 프로토콜)가 사용됨.
- 비연결형 통신
  - 상대방을 확인하지 않고 일방적으로 데이터를 전송하는 방식.
  - 신뢰성과 정확성보다 효율성을 우선하는 통신.
  - 동영상 볼 때 사용함.
  - 비연결형 통신 프로토콜에는 UDP(User Datagram Protocol, 사용자 데이터그램 프로토콜)가 사용됨.



### 6.2. TCP의 구조

- TCP 헤더 : 전송 계층에서 TCP로 전송할 때 붙이는 헤더.
- 세그먼트(segment) : TCP 헤더가 붙은 데이터.
- TCP 헤더 정보
  - 1. 출발지 포트 번호(16비트)
    2. 목적지 포트 번호(16비트)
    3. 일련번호(32비트)
    4. 확인 응답 번호(32비트)
    5. 헤더 길이(4비트)
    6. 예약 영역(6비트)
    7. 코드 비트(6비트)
    8. 윈도우 크기(16비트)
    9. 체크섬(16비트)
    10. 긴급 포인터(16비트)
    11. 옵션
- 연결형 통신은 데이터를 전송하려면 먼저 연결(connection)이라는 가상의 독점 통신로를 확보해야 함.
  - 연결 : TCP 통신에서 정보를 전달하기 위해 사용되는 가상의 통신로로 연결을 확립하고 데이터를 전송함.
  - 연결이 확립되려면 TCP 헤더의 코드 비트 6비트 중 5번째인 SYN(씬), 2번째인 ACK(애크) 부분이 1로 활성화되어야 함.
  - SYN은 연결 요청, ACK는 확인 응답을 뜻함.
- 3-way 핸드셰이크(three-way handshake)
  - 데이터를 보내기 전에 연결을 확립하기 위해 패킷 요청을 세 번 교환하는 것.
  - 1. -> 연결 확립 요청(SYN) - 000010
    2. <- 연결 확립 응답(SYN) + 연결 확립 요청(ACK) - 010010
    3. -> 연결 확립 응답(ACK) - 010000
- 4-way 핸드셰이크(four-way handshake)
  - 연결을 종료하기 위해 패킷 요청을 네 번 교환하는 것.
  - 1. -> 연결 종료 요청(FIN) - 000001
    2. <- 연결 종료 응답(ACK) - 010000
    3. <- 연결 종료 요청(FIN) - 000001
    4. 0> 연결 종료 응답(ACK) - 010000



### 6.3. 일련번호와 확인 응답 번호의 구조

- 연결 확립 후 실제 데이터를 보내거나 상대방이 받을 때는 TCP 헤더의 일련번호(sequence number)와 확인 응답 번호(acknowledgement number)를 사용함.
- 







### 6.4. 포트 번호의 구조







### 6.5. UDP의 구조





## 7. 응용 계층 : 애플리케이션에 데이터 전송하기







## 8. 네트워크의 전체 흐름 살펴보기







## 9. 무선 랜 이해하기



