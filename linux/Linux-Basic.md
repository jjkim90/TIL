# 리눅스 기초

# 리눅스 기본 개념

## 시작과 종료

리눅스 시작하려면 컴퓨터 전원 켜면 됨. X윈도우 환경에서 접속하려면 Server는 root 사용자로 접속하면 됨.

X 윈도우(X window)

리눅스에 GUI 제공. 리눅스의 X 윈도우는 하나의 편리한 유틸리일 뿐, 반드시 필요한 것은 아님.

### 바탕 화면에서 시스템 종료

X 윈도우 환경에서 바로 시스템을 종료하는 가장 간단한 방법은 바탕 화면의 오른쪽 상단에서 종료하는 것임.

### 터미널/콘솔에서 시스템 종료

시스템 종료 명령으로는 `poweroff`, `shutdown -P now`, `halt -p`, `init 0`가 있음. `-P` 또는 `-p` 옵션은 시스템 종료를 의미함.

shutdown 명령의 옵션 중에서 now 부분에 시간을 지정하면, 지정한 시간에 시스템을 종료함.

- `shutdown -P +10` : 10분 후에 종료(P: poweroff)
- `shutdown -r 22:00` : 오후 10시에 재부팅(r: reboot)
- `shutdown -c` : 예약된 shutdown을 취소(c: cancel)
- `shutdown -k +15` : 현재 접속한 사용자에게 15분 후에 종료된다는 메시지를 1분 간격으로 보내지만 실제로 종료는 안 됨.

유닉스/리눅스에서는 대문자와 소문자를 명확히 구분함.

일반 사용자가 관리자(root 사용자) 권한으로 명령을 시행하려면 `su -` 명령 또는 `su` 명령을 실행한 후 root 사용자의 암호를 입력해야 함.

root 사용자와 일반 사용자를 구분하려면 프롬프트의 표식을 확인함. ‘#’이면 root 사용자, ‘$’면 일반 사용자임.

### 시스템 재부팅

`shutdown -r now`, `reboot`, `init 6`

### 로그아웃

로그아웃은 현재 사용자의 시스템 접속을 끝낸다는 뜻이지 시스템을 종료한다는 의미는 아님. 리눅스는 여러 명의 사용자가 동시에 접속해서 사용하는 다중 사용자(Multi-User) 시스템이므로 자신만 접속을 끝내는 로그아웃이 필요함. 만약 관리자가 자신이 사용하지 않는다고 시스템을 종료시키면, 시스템에 접속된 많은 사용자는 작업 중에 컴퓨터가 종료되는 황당한 경험을 하게 될 것임.

`logout` 또는 `exit` 명령을 실행하면 됨.

### 가상 콘솔

일종의 가상의 모니터. 페도라는 총 6개의 가상 콘솔을 제공함. 컴퓨터 한 대에 모니터 여섯 개가 연결된 효과를 낼 수 있음. X 윈도가 가동된 화면은 6개의 가상 콘솔 중에서 1번쨰임. 나머지 2~6번의 가상 콘솔은 텍스트 모드로 제공됨.

각각의 가상 콘솔로 이동하는 단축키 : Ctrl + Alt + F1 ~ F6

리눅스 버전에 따라서 1번이 현재 X 윈도인 경우도 있고, 2번이 현재 X 윈도인 경우도 있음. 콘솔 변경 명령어는 `chvt 가상콘솔번호`.

### 런레벨

`init` 명령어 뒤에 붙는 숫자를 런레벨(RunLevel)이라고 부름. 리눅스는 시스템이 가동되는 방법을 7가지 런레벨로 나눌 수 있음.

<리눅스의 런레벨>

| 런레벨 | 영문 모드  | 설명                           | 비고             |
| ------ | ---------- | ------------------------------ | ---------------- |
| 0      | Power Off  | 종료 모드                      |                  |
| 1      | Rescue     | 시스템 복구 모드               | 단일 사용자 모드 |
| 2      | Multi-User |                                | 사용하지 않음    |
| 3      | Multi-User | 텍스트 모드의 다중 사용자 모드 |                  |
| 4      | Multi-User |                                | 사용하지 않음    |
| 5      | Graphical  | 그래픽 모드의 다중 사용자 모드 |                  |
| 6      | Reboot     | 재부팅 모드                    |                  |

일반적으로 런레벨 3번을 Multi-User 모드로 사용함. 2번과 4번은 사용하지 않지만 호환성을 위해서 런레벨 3번과 동일한 것으로 취급함.

리눅스에서 런레벨 모드를 확인하려면 /lib/systemd/system 디렉토리의 runlevel?.target 파일을 확인함.

![런레벨 종류 확인](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled.png)

런레벨 종류 확인

7개의 runlevel?.target 파일은 링크 파일임. 각각의 링크 파일은 실제 파일과 연결되어 있음. runlevel0.target 파일은 실제로 poweroff.target 파일을 가리킴. 링크 파일은 Windows의 ‘바로 가기 아이콘’과 비슷한 개념임. 실제 파일이 있는 것이 아니라 다른 파일을 가리키는 개념.

`init 0` 명령은 지금 즉시 런레벨 0번으로 시스템을 전환하라는 의미이며, 런레벨 0번은 ‘종료 모드’이므로 결국 지금 즉시 시스템을 종료하라는 의미임.

`init 6` 명령은 지금 즉시 재부팅하라는 의미임.

페도라 GUI 버전은 자동으로 X 윈도가 시작되므로, 런레벨 5번으로 지정됨. 페도라 CUI 버전은 텍스트 모드로 시작되므로 런레벨 3번으로 지정됨.

시스템에 설정된 런레벨 변경

1. `cd` 명령을 입력한 후 이어서 `ls -l /etc/systemd/system/default.target` 명령을 입력해 default.target에 연결된 파일을 확인.

<잠시 중단>

# 리눅스 기본 명령어

# 사용자 관리와 파일 속성

## 사용자 그룹

## 파일과 디렉토리의 소유와 허가권

root 사용자가 자신의 홈 디렉토리에서 `touch sample.txt` 명령을 실행해 빈 파일을 만들고, `ls -l` 명령을 실행.

sample.txt 파일 정보는 아래와 같음.

![Untitled](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 1.png)

### 파일 유형

- d : 디렉토리
- - : 일반적인 파일
- b : 블록 디바이스 (sr0 등)
- c : 문자 디바이스 (가상 모니터 등)
- l : 심볼릭 링크 (cdrom → sr0 등)
- s : 소켓 파일
- p : 파이프 파일

b는 블록 디바이스를 의미하며 대표적인 것으로는 하드디스크, 플로피디스크, CD/DVD 등의 저장장치가 있음.

c는 문자 디바이스를 의미하며 대표적인 것으로는 마우스, 키보드, 프린터 등의 입출력장치가 해당함.

l은 링크를 의미하며 

### 파일 허가권

‘rw-’, ‘r—’, ‘r—’ 3개씩 끊어서 인식함.

- r : read 읽기
- w : write 쓰기
- x : execute 실행

첫 번째는 소유자의 파일 접근 권한, 두 번째는 구릅의 파일 접근 권한, 세 번째는 그 외 사용자의 파일 접근 권한을 의미함.

sample.txt 파일은 소유자는 읽거나 쓸 수 있고, 그룹은 읽을 수만 있고, 그 외 사용자도 읽을 수만 있도록 허가되어 있다는 의미임.

![sample.txt 파일의 허가권](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 2.png)

sample.txt 파일의 허가권

소유자의 허가권인 6이라는 숫자는 2진수 110이므로 ‘rw-’로 표현할 수 있고, 그룹의 허가권인 4라는 숫자는 2진수 100이므로 ‘r—’로 표현됨. 앞에서부터 4, 2, 1임. 

예를 들어 파일 허가권 754라는 것은 ‘rwxr-xr—’이 됨. 

디렉토리는 해당 디렉토리로 이동하려면 실행(’x’) 권한이 반드시 있어야 함. 디렉토리는 일반적으로 소유자/그룹/기타 사용자 모두에게 실행 권한이 설정되어 있음.

파일 확장명

리눅스는 확장자에 별 의미를 두지 않음. 실행 파일이건 텍스트 파일이건 모두 일반적으로 확장명을 갖지 않으며, 확장명을 갖더라도 편리함을 위함이지 확장명이 파일의 종류를 판단하는 절대적인 의미는 아님. 해당 파일이 어떤 파일인지를 알려면 file 명령을 사용해야 함.

파일 허가권 변경

`chmod` 명령어는 root 사용자 또는 해당 파일의 소유자만 실행할 수 있음. 예를 들어 `chmod 777 sample.txt` 명령을 실행하면 sample.txt 파일은 모든 사용자가 읽고, 쓰고, 실행할 수 있는 파일이 됨.

파일의 허가권을 실행할 수 있도록 설정되어 있어도, 파일이 실제로 실행 가능한 코드가 아니라면 실행 시 오류가 발생함.

`chmod` 명령을 상대 모드(Symbolic Method)로도 사용할 수 있음. `chmod u+x 파일이름` 명령은 “소유자에게 실행 권한을 허가하라(+)”는 의미임.

예시

- ‘u-wx’ : 사용자에게 쓰기와 실행 권한을 제거하라는 의미
- ‘g+rx’ : 그룹에게 읽기와 실행 권한을 허가하라는 의미
- ‘o+rwx’ : 그 외 사용자에게 읽기/쓰기/실행 권한을 허가하라는 의미

![파일 허가권 실습](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 3.png)

파일 허가권 실습

1. `vi test` 명령 입력으로 연습용 파일 생성. 내용은 “안녕하세요. ls /var”.
2. `ls -l test` 명령 입력으로 파일의 속성 확인.
3. 이 파일은 허가권이 ‘rw-r—r—’로 설정되어 있고 소유자는 root, 그룹은 root 그룹임을 확인.
4. `whoami` 현재 사용자가 누구인지 알려줌.
5. `./test` 현재 디렉토리의 test 파일을 실행함. ‘./’의 의미는 현재 디렉토리에 있는 파일을 의미함.
6. 허가가 거부되었다는 메시지 나옴. 현재 사용자인 root의 실행 권한이 ‘rw-’이므로 실행할 수 없기 때문임.
7. `chmod 755 test` 명령 입력으로 ‘rwxr-xr-x’로 변경함.
8. `ls -l test` 명령 입력으로 test 파일의 변경 사항 확인.
9. `./test` 명령 입력으로 다시 파일 실행함.
10. 첫번째 행인 안녕하세요는 명령이 아니므로 오류가 발생했고, 두번째 행인 ‘ls /var’은 실행되어 /var 디렉토리의 내용이 출력됨.

### 파일 소유권

파일 소유권은 파일을 소유한 사용자와 그룹을 의미함. sample.txt 파일은 root가 소유자이며 그룹도 root로 되어 있음.

파일 소유권을 바꾸는 명령어는 `chown` 이 있음. `chown 새로운사용자이름(.새로운그룹이름) 파일이름` 형식으로 사용함.

- `chown fedora sample.txt` : 소유자만 변경
- `chown fedora.fedora sample.txt` : 소유자와 그룹 변경
- `chgrp fedora sample.txt` : 그룹만 변경.

`chown` 명령은 root 사용자만 실행할 수 있음.

![파일 소유권 실습](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 4.png)

파일 소유권 실습

1. `chown mit test` 명령 입력해 test 파일의 소유권을 mit로 변경
2. `chgrp mit test` 명령 입력해 mit 그룹으로 변경.
3. 사용자와 그룹을 한꺼번에 바꾸려면 `chown mit.mit test` 또는 `chown mit:mit test` 명령 입력하면 됨.
4. `su - mit` → `pwd` → `ls -l /root/test` → `ls -ld /root`
5. /root 디렉토리의 속성이 ‘r-xr-x—-’로 되어 있어 mit의 사용자는 /root 디렉토리의 접근이 거부됨. /root 디렉토리 안에 있는 test 파일의 소유가 mit 사용자에게 있더라도 사용할 수 없음.
6. `exit` → `mv test ~mit` → `su - mit` → `ls -l test` → `chmod 777 test` → `ls -l test`
7. `chown root.root test` 명령 입력해 test의 소유권 다시 root 사용자에게 돌려주려고 하면 not permitted 메시지 나옴. 파일의 소유권을 바꾸는 chown 명령은 root 사용자만 실행할 수 있음.

특수한 형태의 파일 권한

파일의 허가권을 주로 8진수 000~777로 3자리만 표현했으나, 실제로는 8진수 0000~0777까지 4자리로 표현할 수 있음. 첫 번째 자리의 8진수를 2진수로 표현하면 100, 010, 001, 000 네 가지 중 하나가 올 수 있음. 지금까지는 모두 2진수 000으로 취급했던 것임.

- setuid 비트
  - 8진수 네 자리 중 첫 번째 값을 100(10진수 4)으로 표현하는 것.
  - 리눅스의 파일 중 비밀번호를 지정하는 /bin/passwd가 이에 해당함.
  - 이 파일은 4755로 설정되었기 때문에 일반 사용자도 실행할 수 있음. 단, 실행하는 순간에 root의 권한을 잠깐 빌려와서 사용하는 효과를 갖음.
  - passwd 는 root가 모든 사용자의 비밀번호를 변경할 수 있으면서, 일반 사용자는 자신의 비밀번호만 변경할 수 있었는데, 그 이유는 이 파일이 setuid로 설정되었기 때문임.
  - `chmod u+s 파일명` 명령으로 setuid 설정 가능.
  - 특별한 경우가 아니라면 사용자의 파일을 setuid 비트로 설정하는 것은 보안상 바람직하지 않음.
- setgid 비트
  - 8진수 네 자리 중 첫 번째 값을 010(10진수 2)으로 표현하는 것.
  - setuid 비트와 작동 개념이 비슷함. 사용자가 아닌 그룹에 대해서 적용됨.
- stiky 비트
  - 8진수 네 자리 중 첫 번째 값을 001(10진수 1)로 표현하는 것.
  - 여러 사람이 공유할 디렉토리에 주로 설정됨.
  - stiky bit로 설정된 디렉토리 안에는 모든 사용자가 파일이나 디렉토리를 생성해서 사용할 수 있지만, 다른 사용자의 파일을 삭제하지는 못함.
  - 회사에서 업무상 공유할 내용들을 업로드시키는 목적으로 주로 사용됨.
  - `chmod o+t 파일명` 명령 실행으로 stiky 비트 설정할 수 있음.

### 링크

파일의 링크는 하드 링크(Hard Link)와 심볼릭 링크(Symbolic Link, Soft Link) 2가지가 있음.

![하드 링크와 심볼릭 링크 비교](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 5.png)

하드 링크와 심볼릭 링크 비교

inode

inode는 리눅스의 파일시스템에서 사용하는 자료구조를 말함. 파일이나 디렉토리의 여러 가지 정보가 있음.

모든 파일이나 디렉토리는 각자 1개씩의 inode가 있으며, 각 inode에는 해당 파일의 소유권, 허가권, 파일 종류 등의 정보와 해당 파일의 실제 데이터가 어디에 있는지 위치(주소)도 있다.

이러한 inode가 모여 있는 공간이 inode 블록이며 일반적으로 전체 디스크 공간의 1% 정도를 차지함. Data 블록은 실제 데이터가 저장되어 있는 디스크 공간으로 전체 디스크의 대부분을 차지함.

하드 링크

원본 파일이 inode1을 사용할 때, 하드 링크를 생성하면 ‘하드 링크 파일’만 하나 생성되며 같은 inode1을 사용하게 됨.

하드 링크를 생성하려면 `ln 링크대상파일이름 링크파일이름` 명령 실행.

심볼릭 링크

원본 파일이 inode1을 사용할 때 심볼릭 링크를 생성하면 새로운 inode2를 만들고, 데이터는 원본 파일과 연결되는 효과를 갖음.

일반적으로 사용자들이 주로 사용하는 링크는 심볼릭 링크를 사용하며, Windows의 바로가기 아이콘도 심볼릭 링크에 해당됨.

심볼릭 링크를 생성하려면 `ln -s 링크대상파일이름 링크파일이름` 명령 실행.

![하드 링크과 심볼릭 링크 실습1](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 6.png)

하드 링크과 심볼릭 링크 실습1

1. /root/linktest 디렉토리 만들고 그 안에 basefile을 vi로 만들기. 내용은 “파일 링크 실습 원본 파일”. cat 명령어로 파일 내용 확인.
2. `ln basefile hardlink`, `ln -s basefile softlink` 명령 실행해 하드 링크와 심볼릭 링크 생성함.
3. `ls -il` 명령 실행해 inode 번호 확인. `-il` 옵션은 inode 번호를 제일 앞에 출력함. basefile과 하드 링크는 inode 번호가 같지만, 심볼릭 링크는 inode 번호가 다름.
4. cat 명령어로 내용 확인해보면 하드 링크, 심볼릭 링크 둘 다 같은 내용이 잘 출력됨.

![하드 링크과 심볼릭 링크 실습2](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 7.png)

하드 링크과 심볼릭 링크 실습2

1. basefile을 /root 폴더로 옮기고 linktest 폴더에서 `ls -il`, `cat hardlink`, `cat softlink` 명령어 실행.
2. 하드 링크는 디렉토리에서 원본 파일이 없어져도 아무런 이상 없이 내용이 출력되지만, 심볼릭 링크는 디렉토리에서 원본 파일이 없어지면 연결이 끊어지고 경고 표시가 출력됨.
3. 원본 파일을 현재 디렉토리에 가져와서 다시 한 번 실행해보면 심볼릭 링크가 원상태로 복구되었음을 확인할 수 있음.

# 리눅스 관리자 명령어

## RPM

### RPM이란

초창기 리눅스 프로그램 설치 어려워 레드햇 사에서 Windows의 setup.exe와 비슷하게 프로그램을 설치한 후에 바로 실행할 수 있는 설치 파일을 제작함. 이러한 설치 파일의 확장명은 *.rpm이며 이를 패키지라고 부름.

### 파일의 의미

패키지이름_버전-릴리스번호.Fedora버전.아키텍처.rpm

Fedora 28 Server DVD에 포함된 gedit : gzip-1.9-3.fc28.x86_64.rpm.

- 패키지 이름 : gzip. → 패키지(프로그램)의 이름.
- 버전 : 1.9 → 대개 2자리 또는 3자리 수로 구성됨. 주 버전, 부 버전, 패치 버전 순서이며 당연히 숫자가 높을수록 최신 버전임.
- 릴리즈 번호 : 3 → 문제점을 개선할 때마다 붙여지는 번호임.
- Fedora 버전 : fc28 → Fedora에서 배포할 경우 붙여짐. fc28은 Fedora Core 28을 의미함.
- 아키텍처 : x86_64 → x86 계열의 64비트 CPU를 의미함. 즉 이 파일을 설치할 수 있는 CPU를 뜻함. i686, alpha, sparc, ia64 등이 있음.
  - src : 소스 파일 패키지. 설치 후에는 컴파일을 별도로 해줘야 함.
  - noarch : 모든 CPU에 설치 가능. (NO ARCHitecture)

### RPM 명령어 옵션

- 설치 : `rpm -Uvh 패키지파일이름.rpm`
  - U(대문자) → 기존에 패키지가 설치되지 않았다면 일반적인 설치를 하고, 기존에 패키지가 설치되어 있다면 업그레이드를 함(i 옵션은 설치되어 있다면 오류가 발생하므로, U 옵션이 더 편함).
  - v → 설치 과정 확인
  - h → 설치 진행 과정을 # 기호로 화면에 출력해 줌.
- 삭제 : `rpm -e 패키지이름`
  - e → erase(지움)의 약자.
- 이미 설치된 패키지 조회
  - `rpm -qa 패키지이름` → 시스템에 패키지가 설치되었는지 확인
  - `rpm -qf 파일의절대경로` → 이미 설치된 파일이 어느 패키지에 포함된 것인지 확인.
  - `rpm -ql 패키지이름` → 특정 패키지에 어떤 파일들이 포함되었는지 확인.
  - `rpm -qi 패키지이름` → 설치된 패키지의 상세 정보
- 아직 설치되지 않은 rpm 파일 조회
  - `rpm -qlp 패키지파일이름.rpm` → 패키지 파일에 어떤 파일들이 포함되었는지 확인
  - `rpm -qip 패키지파일이름.rpm` → 패키지 파일의 상세 정보
  - 

### RPM의 단점

의존성 문제가 있음. 페도라의 기본 웹 브라우저인 Firefox는 X 윈도상에서 가동됨. X 윈도가 설치되지 않은 상태에서 Firefox를 설치하면 X 윈도에 의존성이 있어서 설치가 되지 않음.

## DNF

DNF(Dandified yum) 명령어. rpm 패키지를 설치하는 편리한 도구. Fedora 21까지 패키지 설치 관리자로 YUM을 사용했으나 Fedora 22부터는 YUM의 기능이 대폭 개선된 DNF를 주로 사용함. YUM과 사용법이 거의 비슷하며 저장소 또한 동일하게 /etc/yum.repos.d/를 사용하기 때문에, 이전 버전의 Fedora 사용자도 yum 명령 대신 dnf 명령으로만 변경하면 특별히 사용법을 익힐 필요가 없음.

### DNF란

rpm 패키지 설치 시 의존성 문제를 해결함. 특정 패키지를 설치하고자 할 때, 의존성이 있는 다른 패키지를 자동으로 먼저 설치해 줌. 인터넷에 정상적으로 연결된 상태여야 함.

### DNF의 기본 사용법

- 기본 설치 방법

`dnf -y install 패키지이름`

dnf install은 패키지를 다운로드한 후에, 사용자에게 설치 여부를 묻는 부분이 나오는데, 명령어에 -y 옵션을 써주면 자동으로 넘어감.

- rpm 파일 설치 방법

`dnf install rpm파일이름.rpm`

- 업데이트 가능한 목록 보기

`dnf check-update`

시스템에 설치된 패키지 중에서 업데이트가 가능한 패키지의 목록을 출력. 이 명령을 실행하기 전에 `dnf clean all` 명령을 실행해서 기존 dnf 관련 임시 파일을 지우는 것이 좋음.

- 업데이트

`dnf update 패키지이름`

- 삭제

`dnf remove 패키지이름`

- 정보 확인

`dnf info 패키지이름`

![dnf 사용 실습1](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 8.png)

dnf 사용 실습1

1. `dnf info net-snmp-agent-libs`
2. `dnf install net-snmp-agent-libs` installing dependencies는 의존성 있는 lm_sensors-libs, mariadb-connector-c라는 2개 패키지가 먼저 설치되어야 한다는 뜻임.
3. `dnf -y install nano` -y 옵션을 쓰는 게 훨씬 편함. 설치 끝날 때까지 아무 것도 묻지 않고 설치 완료함.
4. `dnf -y remove nano`

### DNF 고급 사용법

- 패키지 그룹 설치
  - `dnf groupinstall “패키지그룹이름”`
  - 패키지 그룹에 포함되는 패키지들을 통째로 설치할 때 사용함.
  - 패키지 그룹의 종류는 `dnf grouplist` 명령으로 확인할 수 있음.
  - 설치할 때 패키지 그룹의 이름은 주로 띄어쓰기가 많으므로 큰 따옴표(” “) 안에 써야 함.
- 패키지 리스트 확인
  - `dnf list 패키지이름` → Fedora에서 제공하는 패키지 리스트를 보여줌.
  - `dnf list all` → 모든 패키지 목록을 보여줌.
  - `dnf list httpd*` → httpd라는 이름이 들어간 패키지 목록을 보여줌.
  - `dnf list available` → 현재 설치 가능한 목록을 모두 보여줌.
- 특정 파일이 속한 패키지 이름 확인
  - `dnf provides 파일이름` → 특정 파일이 어느 패키지에 들어 있는지를 확인할 수 있음.
  - `dnf provides ifconfig` → ifconfig 명령이 들어 있는 패키지를 알려줌.
- GPG 키 검사 생략
  - `dnf install -nogpgcheck rpm파일이름.rpm` → 페도라에서 인증되지 않은 rpm 파일을 ‘dnf install’로 설치하면 설치되지 않는 경우 있음. -nogpgcheck 옵션을 사용하면 GPG 키 인증을 생략하므로 설치할 수 있음.
- 기존 저장소 목록 지우기
  - `dnf clean all` → 기존에 다운로드한 패키지 목록을 지움.

### DNF의 작동 방식과 설정 파일

dnf 명령어와 관련된 설정 파일은 /etc/yum.conf와 /etc/yum.repos.d/ 디렉토리가 있음. /etc/yum.repos.d/ 디렉토리의 각 파일은 dnf 명령을 실행했을 때 인터넷에서 해당 패키지 파일을 검색하는 네트워크의 주소가 들어 있음.

![DNF의 작동 흐름도](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 9.png)

DNF의 작동 흐름도

DNF 작동 흐름 예시

1. `dnf install net-snmp-agent-libs`
2. 자동으로 /etc/yum.repos.d/ 디렉토리 중에서 핵심 파일인 fedora.repo 파일을 확인함. 이 파일에는 ‘Fedora 28 패키지’ 저장소의 인터넷 주소가 적혀 있음.
3. 전체 패키지 목록 파일을 요청
4. 다운로드함. 실제 패키지 파일을 다운로드하는 것이 아니며, 패키지의 이름이 들어 있는 목록만 가져오는 것임.
5. 다운로드한 패키지 목록 파일을 근거로 사용자가 요청한 net-snmp-agent-libs 패키지와 의존성이 있는 패키지 목록을 화면에 출력함.
6. 사용자가 패키지 목록을 확인하고 설치할 의향이 있다면 y를 입력해 실제 패키지 다운로드를 요청함.
7. 해당 패키지 파일(rpm 파일)을 다운로드하고 자동으로 설치함.

`dnf -y install` 패키지파일 명령을 실행하면 2~7번까지 모두 한 번에 처리됨.

- Fedora 28 패키지 저장소
  - 원본 패키지 : /etc/yum.repos.d/fedora.repo 파일의 [fedora] 부분에 적혀 있음.
  - 업데이트 패키지 : fedora-updates.repo 파일의 [updates] 부분에 적혀 있음.
  - 테스트용 패키지 : fedora-updates-tesing.repo 파일의 [updates-testing] 부분에 적혀 있음.

학습 과정에서는 업데이트 및 테스트 패키지는 설치되지 않도록 fedora.repo 파일만 남겨두고 나머지 파일을 backup 폴더로 옮겨놓았음. 실무 환경에서 페도라를 사용한다면 fedora-updates.repo 및 fedora-updates-testing.repo 파일을 남겨두어 개선된 패키지를 사용하는 것이 더 바람직함.

![fedora.repo 파일](C:\Users\MIT-김재준\Downloads\1~\리눅스 기초 2b3d4b2291a649adaa49c1e762a0d24b\Untitled 10.png)

fedora.repo 파일

- 대괄호 [] → 저장소 식별자. [fedora], [fedora-debuginfo], [fedora-source]가 등록되어 있는데 [fedora] 제외하고는 ‘enabled=0’ 되어 사용되지 않음.

- # → 주석이므로 없는 것과 마찬가지.

- name → 저장소의 이름.

- failovermethod → dnf 명령으로 URL 접속할 때 필요한 접속 방식을 정함. priority와 roundrobin 중 하나를 설정할 수 있음. 기본값은 priority. priority는 baseurl에 여러 개의 URL이 적혀 있으면 차례대로 접속 시도함. roundrobin은 임의로 선택된 URL에 접속함.

- baseurl → URL이 적혀 있음. http, ftp, file 3가지 중 하나가 오면 됨. 사용자가 저장소의 URL을 정확히 안다면 직접 적어도 됨. 여러 개가 이어져서 나올 수 있음.

- metalink → baseurl에 설정 값이 생략되어 있을 때 연결되는 URL 주소. 전 세계에 분포된 여러 개의 저장소가 연결되어 있음.

- enabled → 이 저장소를 사용할지 여부를 1(사용), 0(사용 안함)으로 지정할 수 있음. 이 행를 생략하면 기본값은 1임.

- metadata_expire → 다운로드한 메타 데이터(패키지의 목록)가 만료되는 기간을 지정함. d, h, m 단위로 설정할 수 있음. 생략 가능.

- gpgcheck → 패키지의 GPG 서명을 확인할지 여부를 1(사용), 0(사용 안함)으로 지정할 수 있음. 1로 지정할 경우 gpgkey 항목을 반드시 설정해야 함.

- gpgkey → 아스키 GPG 키가 들어 있는 저장소의 URL이 적혀 있어야 함. GPG 서명은 rpm 패키지를 인증할 때 암호화된 서명을 사용하는 방법. GPG 서명을 함으로써 잘못된 패키지가 설치되는 일을 방지함.

## 파일 압축과 묶기

### 파일 압축

### 파일 묶기

## 파일 위치 검색

## 시스템 설정

### 표준 시간대 변경

### 네트워크 설정

### 방화벽 설정

### 서비스(데몬) 설정

### 그 외에 사용되는 설정 명령

## CRON과 AT

### cron

### at

# 네트워크 관련 명령어

# 파이프, 필터, 리디렉션

# 프로세스, 데몬, 서비스

# 서비스와 소켓

# 응급 복구

# GRUB 부트 로더

# 간단한 커널 컴파일