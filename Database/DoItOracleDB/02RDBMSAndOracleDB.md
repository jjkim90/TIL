# 관계형 데이터베이스와 오라클 데이터베이스



> 이 문서는 [<Do It! 오라클로 배우는 데이터베이스 입문>](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9791163030300&orderClick=LEa&Kc=) 책을 보고 정리한 문서입니다.



## 1. 관계형 데이터베이스의 구성 요소

### 1.1. 테이블

- 테이블(table) : 2차원 표 형태의 데이터 저장 공간.
- 테이블의 가로줄을 행, 세로줄을 열이라고 부름.



#### 행

- 행 : 저장하려는 하나의 개체를 구성하는 여러 값을 가로로 늘어뜨린 형태.
- 실무에서는 로우라고 많이 부름.



#### 열

- 열 : 저장하려는 데이터를 대표하는 이름과 공통 특성을 정의.
- 저장 정보의 종류(자료형)와 저장 가능한 값의 최대 길이 그리고 값의 중복을 허용하지 않는 등의 저장 조건과 범위를 지정할 수 있음.
- 실무에서는 칼럼이라고 많이 부름.



#### 관계형 데이터베이스와 테이블

- 관계란 행과 열의 특성에 맞추어 데이터를 저장한 테이블 하나하나를 의미함.
- 테이블은 관계(relation)
- 행은 튜플(tuple) 또는 레코드(record)
- 열은 애트리뷰트(attribute) 또는 필드(field)



### 1.2. 특별한 의미를 지닌 열, 키

- 키는 하나의 테이블을 구성하는 여러 열 중에서 특별한 의미를 지닌 하나 또는 여러 열의 조합을 의미함.

- 종류별로 데이터를 구별하거나 테이블 간의 연관 관계를 표현할 때 키로 지정한 열을 사용함.
- 기본키 / 후보키 / 외래키 / 복합키 등으로 구분.



#### 기본키

- 기본키(PK: Primary Key) : 한 테이블 내에서 중복되지 않는 값만 가질 수 있는 키.
- 속성
  - 테이블에 저장된 행을 식별할 수 있는 유일한 값이어야 함.
  - 값의 중복이 없어야 함.
  - NULL 값을 가질 수 없음.

- 웹 서비스를 비롯한 대부분의 프로그램은 가입 회원을 관리하기 위해 회원 번호 같은 특수한 데이터를 따로 정의하여 관리함. 이러한 데이터는 내부 관리 목적으로만 사용하므로 일반적으로 사용자에게는 공개하지 않음.



#### 보조키

- 보조키 : 대체키(alternate key)라고도 부르며 후보키(candidate key)에 속해 있는 키.
- 엄밀한 의미의 후보키는 기본키가 될 수 있는 모든 키를 의미함. 후보키 중 기본키로 지정되지 않은 키를 보조키 또는 대체키라고 함.



#### 외래키

- 외래키(FK: Foreign Key) : 특정 테이블에 포함되어 있으면서 다른 테이블의 기본키로 지정된 키.
- 데이터의 중복을 피하기 위해 테이블 사이의 관계를 규명할 때 필요한 필수 요소.
- 실무에서는 효율 및 편의를 위해 외래키를 따로 정의하지 않고, 테이블 사이의 관계를 '느슨하게' 설계하여 이를 응용 프로그램 영역에서 처리하는 경우도 종종 발생함.



#### 복합키

- 복합키(composite key) : 여러 열을 조합하여 기본키 역할을 할 수 있게 만든 키.



## 2. 오라클 데이터베이스



### 2.1. 오라클 데이터베이스와 버전

- 버전
  - Oracle 11g 2007년
  - Oracle 12c 2013년
  - Oracle 18c 2018년
- 대부분 기업에서 11g 사용중.



### 2.2. 자료형

- 대표적인 자료형 종류
  - VARCHAR2(길이) : 400byte만큼의 가변 길이 문자열 데이터 저장(최소 크기 1byte).
  - NUMBER(p, s) : +-38자릿수의 숫자 저장. s자리만큼 소수점 이하 자릿수 표현, 소수점 자리 포함 전체 p자리만큼 숫자 데이터 저장.
  - DATE : 날짜 형식을 저장하기 위해 사용하는 자료형.
  - CHAR(길이) : 400byte만큼의 고정 길이 문자열 데이터 저장(최소 크기 1byte).
  - NVARCHAR2(길이) : 400byte만큼의 가변 길이 국가별 문자 세트 데이터를 저장.
  - BLOB : 최대 크기 4GB의 대용량 이진 데이터 저장.(이미지, 소리, 영상 등)
  - CLOB : 최대 크기 4GB의 대용량 텍스트 데이터 저장.
  - BFILE : 최대 크기 4GB의 대용량 이진 데이터 파일을 저장.
- 실무에서는 VARCHAR2, NUMBER, DATE 3가지를 가장 많이 사용함.

- 자료형은 테이블을 구성하는 열에 지정함.
  - 스칼라형(scalar) : 하나의 자료형에 맞춰 한 종류의 데이터를 저장할 수 있는 자료형.
  - 컬렉션형(collection) : 한 번에 여러 데이터를 저장할 수 있는 자료형.



### 2.3. 객체

- 객체 : 오라클 데이터베이스 내에서 데이터를 저장하고 관리하기 위한 논리 구조를 가진 구성 요소.
- 대표적인 오라클 객체의 종류
  - 테이블(table) : 데이터를 저장하는 장소.
  - 인덱스(index) : 테이블의 검색 효율을 높이기 위해 사용. 미리 읽기. 캐싱.
  - 뷰(view) : 하나 또는 여러 개의 선별된 데이터를 논리적으로 연결하여 하나의 테이블처럼 사용하게 해 줌. ex) 학생 테이블과 성적 테이블을 연결하여 '성적표' 작성.
  - 시퀀스(sequence) : 일련 번호를 생성해 줌.
  - 시노님(synonym) : 오라클 객체의 별칭(다른 이름)을 지정함.
  - 프로시저(procedure) : 프로그래밍 연산 및 기능 수행이 가능함(반환 값 없음).
  - 함수(function) : 프로그래밍 연산 및 기능 수행이 가능함(반환 값 있음).
  - 패키지(package) : 관련 있는 프로시저와 함수를 보관함.
  - 트리거(trigger) : 데이터 관련 작업의 연결 및 방지 관련 기능을 제공함. 삭제한 데이터 모아두는 테이블 생성 등.



### 2.4. PL/SQL

- PL/SQL(Procedural Language extension to SQL) : 복잡한 기능에 사용하는 별도의 프로그래밍 언어.
- 변수, 조건문, 반복문 등 프로그래밍 언어에서 제공하는 요소를 사용하여 데이터를 관리할 수 있음.

